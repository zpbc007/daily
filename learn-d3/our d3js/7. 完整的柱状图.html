<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<script src="../d3v3/d3.v3.js"></script>
<body>
    
</body>
<script>
    // 定义画布
    // 画布大小
    var width = 400
        height = 400
    // svg画布
    var svg = d3.select("body")
        .append("svg")
        .attr("width", width)
        .attr("height", height)
    // 画布空白
    var padding = {left: 30, right: 30, top: 20, bottom: 20}
    
    // 定义数据和比例尺
    var dataset = [10, 20, 30, 40, 33, 24, 12, 5]
        xScale = d3.scale.ordinal()
            .domain(d3.range(dataset.length))
            .rangeBoundBands([0, width - padding.left - padding.right])
        yScale = d3.scale.linear()
            .domain([0, d3.max(dataset)])
            .range([height - padding.top - padding.bottom, 0])

    // 定义坐标轴
    var xAxis = d3.svg.axis()
            .scale(xScale)
            .orient("bottom")
        yAxis = d3.svg.axis()
            .scale(yScale)
            .orient('left')
    
    // 添加矩形和文字元素
    // 矩形之间的空白
    var rectPadding = 4
    // 添加矩形元素
    var rects = svg.selectAll('.MyRect')
            .data(dataset)
            .enter()
            .append('rect')
            .attr('class', 'MyRect')
            .attr('transform', `translate(${padding.left}, ${padding.top})`)
            .attr('x', (d, i) => xScale(i) + rectPadding/2)
            .attr('y', d => yScale(d))
            .attr('width', xScale.rangeBand() - rectPaddng)
            .attr('height', d => height - padding.top - padding.bottom - yScale(d))
        texts = svg.

</script>
</html>